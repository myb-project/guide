# CLI/shell

## Описание

Вы можете провести конфигурирование MyB или выполнять различные административные операции через консоль администратора, зайдя на сервер MyB через SSH либо на WS-консоль через броузер: http://IP/shell/

## Меню MyB

При входе пользователем 'root', для вас будет доступно меню для типовых операций, таких как:  смена сетевых настроек, переключение профилей, ACL и т.п.:

![mybconsole.png](https://myb.convectix.com/img/mybconsole.png?raw=true)

Для навигации используйте клавиши с цифрами и/или стрелками. Выбор меню производится клавишей 'Enter'.

При первой установке, наиболее востребованными будут следующие операции:

* 1) - обновление MyBee через нажатие клавиши 'u';

:bangbang: | :information_source: Имейте ввиду, что обновление MyBee не обновляет гостевые системы уже созданных виртуальных машин. Однако, с обновлением MyBee вы можете получить новый профиль ранее отсутствующей ОС (или новую версию уже существующего профиля), что приведет к скачиванию нового gold-образа для данной гостевой системы при активации профиля.
:---: | :---

* 2) - выход в Unix shell, в зависимости от дистрибутива это будет либо Linux, либо FreeBSD OS. В unix shell вы также можете 'прогреть' cloud образы (см. ниже);
* 3) - создание отдельного пользователя, отличного от 'root', с которым вы можете логиниться по SSH и от имени которого создавать ВМ (через SSH и API);
* 4) - регулировка ACL из IP адресов и/или списка pubkey, которые могут взаимодействовать с API;
* 5) - заблокировать доступ пользователя 'root' через SSH (но не через http://IP/shell/ или локальный login) - это следует сделать, после создания пользователя через пункт (4);
* 6) - переключить или выключить цветовую схему;

## Прогрев cloud образов

contrib-профили, идущие с поставкой MyBee содержат информацию об ОС гостевых систем, минимальные требования и ссылку для получения gold-образа (но не сами образы), которые расположены на зеркалах проекта и регулярно обновляемые проектом CBSD;

Если вам не хватает существующих профилей и/или они вас не устраивают, вы можете создавать любое количество собственных профилей и даже выгрузить их на GitHub в проект профилей - в этом случае, ваш профиль смогут задействовать все остальные пользователи MyBee;

При запросе на создание гостя, система начнет автоматически скачивать образ с зеркал, что при первом создании вносит неопределенную задержку от нескольких секунд до нескольких минут - это зависит от скорости вашего сетевого соединения и доступности
зеркал для вашего инстанса.

Поэтому, чтобы гарантировать быстрое получение виртуальных машин, рекомендуется сначала получить образ через CLI (прогреть). Для этого, воспользуйтесь меню 'Shell ( warm cloud image )' в основном меню и получив информацию о том, какие
образы отсутствуют - получить их.

![mybconsole2.png](https://myb.convectix.com/img/mybconsole2.png?raw=true)

Если система напротив имени профиля пишет 'not found', введя имя профиля вы можете получить и закешировать необходимый образ. Если вы это не сделаете, при создании система выполнит это автоматически, тем не менее, в данном кейсе вы сможете
проконтроллировать, что проблем с сетью нет, иначе создание ВМ может 'зависнуть' на неопределенное время.

![mybconsole3.png](https://myb.convectix.com/img/mybconsole3.png?raw=true)

### если скорость зеркал медленная

При желании, вы можете настроить собственное локальное зеркало, которое будет синхронизироваться с официальными зеркалами CBSD и заставить MyBee использовать их. Если в вашем регионе зеркал CBSD нет и вы желаете помочь проекту,
вы также можете опубликовать ссылку на ваши зеркала и их начнут использовать другие пользователи CBSD/MyBee. Подробнее об этом всем [читайте здесь](https://github.com/cbsd/mirrors).

---

Дальше: [Configuring Network Interfaces](network.md)
